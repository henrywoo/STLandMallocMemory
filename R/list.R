k=c(8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,256,264,272,280,288,296,304,312,320,328,336,344,352,360,368,376,384,392,400,408,416,424,432,440,448,456,464,472,480,488,496,504,512,520,528,536,544,552,560,568,576,584,592,600,608,616,624,632,640,648,656,664,672,680,688,696,704,712,720,728,736,744,752,760,768,776,784,792,800)
vm=c(65464,96728,112524,112524,128100,128100,143676,143676,159252,159252,174828,174828,190668,190668,206244,206244,221820,221820,237396,237396,252972,252972,268548,268548,284388,284388,299964,299964,315540,315540,331116,331116,346692,346692,362532,362532,378108,378108,393684,393684,409260,409260,424836,424836,440676,440676,456252,456252,471828,471828,487404,487404,502980,502980,518820,518820,534396,534396,549972,549972,565548,565548,581124,581124,596964,596964,612540,612540,628116,628116,643692,643692,659268,659268,675108,675108,690684,690684,706260,706260,721836,721836,737412,737412,753252,753252,768828,768828,784404,784404,799980,799980,815556,815556,831396,831396,846972,846972,862548,862548)
rss1=c(65464,96728,112524,112524,128100,128100,143676,143676,159252,159252,174828,174828,190676,190676,206244,206244,221820,221820,237396,237396,252972,252972,268548,268548,284388,284388,299964,299964,315540,315540,331116,331116,346692,346692,362532,362532,378108,378108,393824,393824,409260,409260,424836,424836,440676,440676,456252,456252,471828,471828,487404,487404,502980,502980,518820,518820,534396,534396,549972,549972,565548,565548,581124,581124,596964,596964,612540,612540,628116,628116,643692,643692,659268,659268,675108,675108,690684,690684,706260,706260,721836,721836,737412,737412,753252,753252,768828,768828,784404,784404,799980,799980,815556,815556,831396,831396,846972,846972,862688,862688)
m_vm=c(42044,42152,42152,57728,57852,73428,73428,89004,89004,104580,104580,120420,120420,135996,135996,151572,151572,167148,167148,182724,182724,198564,198564,214140,214140,229716,229716,245292,245292,260868,260868,276444,276444,292284,292284,307860,307860,323436,323436,339012,339012,354588,354588,370428,370428,386004,386004,401580,401580,417156,417156,432732,432732,448572,448572,464148,464148,479724,479724,495300,495300,510876,510876,526716,526716,542292,542292,557868,557868,573444,573436,589012,589012,604852,604852,620428,620428,636004,636004,651580,651580,667156,667156,682996,682996,698572,698572,714148,714148,729724,729724,745300,745300,761140,761140,776716,776716,792292,792292,807868)
m_rss1=c(34500,42152,42152,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,557868,557868,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128)
plot(x=k, y=vm/1024, type = "b", lty=1, col="blue", yaxs="i", ylim=c(0,900),
     pch=15, xlab = "(list<string> with 1M string inside)String Size is k", ylab = "RSS Memory after list and string de-allocation(MB)")
lines(x=k, y=rss1/1024, type = "b", lty=1, col="red", yaxs="i", ylim=c(0,900),
      pch=16, xlab = "(list<string> with 1M string inside)String Size is k", ylab = "RSS Memory after list and string de-allocation(MB)")
lines(x=k, y=m_vm/1024, type = "b", lty=1, col="green", yaxs="i", ylim=c(0,900),
      pch=17, xlab = "(list<string> with 1M string inside)String Size is k", ylab = "RSS Memory after list and string de-allocation(MB)")
lines(x=k, y=m_rss1/1024, type = "b", lty=1, col="black", yaxs="i", ylim=c(0,900),
      pch=18, xlab = "(list<string> with 1M string inside)String Size is k", ylab = "RSS Memory after list and string de-allocation(MB)")
title("g++-7 list C++11, strings are different @ Ubuntu 17.10")
legend("topleft", inset=0.05,title = "memory", c("STL VM","STL RSS","Malloc VM", "Malloc RSS"),
       lty = c(1,2,3,4), pch=c(15,16,17,18), col=c("blue","red","green","black"))