k=c(8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,256,264,272,280,288,296,304,312,320,328,336,344,352,360,368,376,384,392,400,408,416,424,432,440,448,456,464,472,480,488,496,504,512,520,528,536,544,552,560,568,576,584,592,600,608,616,624,632,640,648,656,664,672,680,688,696,704,712,720,728,736,744,752,760,768,776,784,792,800)
vm=c(34400,67312,81212,81364,96940,96940,112548,112548,128160,128160,143768,143768,159376,159376,174984,175156,190732,190732,206308,206308,221884,221884,237460,237460,253300,253300,268876,268876,284452,284428,300004,300004,315580,315580,331420,331420,346996,346996,362572,362572,378148,378148,393724,393724,409564,409564,425140,425140,440716,440716,456292,456292,471868,471868,487708,487708,503284,503284,518860,518860,534436,534468,550044,550044,565620,565620,581460,581460,597036,597036,612612,612612,628188,628188,643764,643764,659604,659604,675180,675180,690756,690756,706332,706332,722172,722172,737748,737748,753324,753324,768900,768900,784476,784476,800316,800316,815892,815892,831468,831468)
rss1=c(3428,36072,50184,50184,65808,65808,81436,81436,97060,97060,112688,112688,128312,128312,3560,3560,3560,3560,3560,3560,3560,3560,3560,3560,3560,3560,3560,3560,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,3800,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096,4096)
m_vm=c(42044,42152,42152,57728,57852,73428,73428,89004,89004,104580,104580,120420,120420,135996,135996,151572,151572,167148,167148,182724,182724,198564,198564,214140,214140,229716,229716,245292,245292,260868,260868,276444,276444,292284,292284,307860,307860,323436,323436,339012,339012,354588,354588,370428,370428,386004,386004,401580,401580,417156,417156,432732,432732,448572,448572,464148,464148,479724,479724,495300,495300,510876,510876,526716,526716,542292,542292,557868,557868,573444,573436,589012,589012,604852,604852,620428,620428,636004,636004,651580,651580,667156,667156,682996,682996,698572,698572,714148,714148,729724,729724,745300,745300,761140,761140,776716,776716,792292,792292,807868)
m_rss1=c(34500,42152,42152,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,34624,557868,557868,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128,558128)
plot(x=k, y=vm/1024, type = "b", lty=1, col="blue", yaxs="i", ylim=c(0,900),
     pch=15, xlab = "(vector<string> with 1M string inside)String Size is k", ylab = "RSS Memory after vector and string de-allocation(MB)")
lines(x=k, y=rss1/1024, type = "b", lty=1, col="red", yaxs="i", ylim=c(0,900),
      pch=16, xlab = "(vector<string> with 1M string inside)String Size is k", ylab = "RSS Memory after vector and string de-allocation(MB)")
lines(x=k, y=m_vm/1024, type = "b", lty=1, col="green", yaxs="i", ylim=c(0,900),
      pch=17, xlab = "(vector<string> with 1M string inside)String Size is k", ylab = "RSS Memory after vector and string de-allocation(MB)")
lines(x=k, y=m_rss1/1024, type = "b", lty=1, col="black", yaxs="i", ylim=c(0,900),
      pch=18, xlab = "(vector<string> with 1M string inside)String Size is k", ylab = "RSS Memory after vector and string de-allocation(MB)")
title("g++-7 vector C++11, strings are different @ Ubuntu 17.10")
legend("topleft", inset=0.05,title = "memory", c("STL VM","STL RSS","Malloc VM", "Malloc RSS"),
       lty = c(1,2,3,4), pch=c(15,16,17,18), col=c("blue","red","green","black"))